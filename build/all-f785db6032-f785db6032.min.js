!function(){"use strict";angular.module("app",["app.core","app.layout","app.servicepicker"])}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngRoute","ngSanitize","blocks.exception","blocks.logger","blocks.router"])}(),function(){"use strict";angular.module("app.layout",["pascalprecht.translate"]).config(["$translateProvider",function(e){e.translations("en",{SELECT_SERVICE:"Select a service",ORDER_BY:"Order by",BEST_PRICE_FIRST:"Best price first",SHORTEST_TRANSIT_TIME_FIRST:"Shortest transit time first",FULL_DETAILS:"Full details",SECURE_PAYMENT_GUARANTEED:"Secure payment guaranteed",SELECT_THIS:"Select this",ESTIMATED:"estimated"}),e.translations("es",{SELECT_SERVICE:"Seleccione un servicio",ORDER_BY:"Ordenar por",BEST_PRICE_FIRST:"Mejor precio primero",SHORTEST_TRANSIT_TIME_FIRST:"El tiempo de tránsito más corto primero",FULL_DETAILS:"Todos los detalles",SECURE_PAYMENT_GUARANTEED:"Pago seguro garantizado",SELECT_THIS:"Seleccione esto",ESTIMATED:"estimado"}),e.preferredLanguage("en")}])}(),function(){"use strict";angular.module("app.servicepicker",[])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.router",["ngRoute","blocks.logger"])}(),function(){"use strict";function e(e,r,t,n){e.debugEnabled&&e.debugEnabled(!0),t.config.$routeProvider=r,t.config.docTitle="Packlink: ";var c={ready:["dataservice",function(e){return e.ready()}]};t.config.resolveAlways=c,n.configure(i.appErrorPrefix)}e.$inject=["$logProvider","$routeProvider","routehelperConfigProvider","exceptionHandlerProvider"];var r=angular.module("app.core"),i={appErrorPrefix:"[Packlink-Services Error] ",appTitle:"Packlink Services",version:"1.0.0"};r.value("config",i),r.config(e)}(),function(){"use strict";angular.module("app.core")}(),function(){"use strict";function e(e,r,i,t,n){function c(){function i(e,r,i,t){return e.data.services}return e.get("/api/services").then(i).catch(function(e){t.catcher("XHR Failed for getServices")(e),r.url("/")})}function a(){function e(){l=!0,n.info("Primed data")}return s?s:s=i.when(!0).then(e)}function o(e){var r=s||a();return r.then(function(){return i.all(e)}).catch(t.catcher('"ready" function failed'))}var s,l=!1,u={getServices:c,ready:o};return u}e.$inject=["$http","$location","$q","exception","logger"],angular.module("app.core").factory("dataservice",e)}(),function(){"use strict";function e(e,r,i,t){function n(){i.success(r.appTitle+" loaded!",null)}function c(e){t.use(e)}var a=this;a.title=r.appTitle,a.changeLanguage=c,n()}angular.module("app.layout").controller("Shell",e),e.$inject=["$timeout","config","logger","$translate"]}(),function(){"use strict";function e(e){e.configureRoutes(r())}function r(){return[{url:"/",config:{templateUrl:"app/servicepicker/servicepicker.html",controller:"ServicePicker",controllerAs:"vm",title:"servicepicker",settings:{nav:1,content:'<i class="fa fa-dashboard"></i> Dashboard'}}}]}e.$inject=["routehelper"],angular.module("app.servicepicker").run(e)}(),function(){"use strict";function e(e,r,i,t){function n(){return c().then(function(){t.info("Services initiated")})}function c(){return i.getServices().then(function(e){return o.services=e,o.services})}function a(r){"transit"===r?o.services=e("orderBy")(o.services,function(e){return parseInt(e.transit_hours,10)}):o.services=e("orderBy")(o.services,"service.price.total_price",!0)}var o=this;o.services=[],o.title="Packlink Servicepicker",o.order=a,n()}angular.module("app.servicepicker").controller("ServicePicker",e),e.$inject=["$filter","$q","dataservice","logger"]}(),function(){"use strict";function e(e){function r(r,i,t){e.error("Error: "+r,i)}function i(r,i,t){e.info("Info: "+r,i)}function t(r,i,t){e.info("Success: "+r,i)}function n(r,i,t){e.warn("Warning: "+r,i)}var c={error:r,info:i,success:t,warning:n,log:e.log};return c}angular.module("blocks.logger").factory("logger",e),e.$inject=["$log"]}(),function(){"use strict";function e(){this.config={appErrorPrefix:void 0},this.configure=function(e){this.config.appErrorPrefix=e},this.$get=function(){return{config:this.config}}}function r(e){e.decorator("$exceptionHandler",i)}function i(e,r,i){return function(t,n){var c=r.config.appErrorPrefix||"",a={exception:t,cause:n};t.message=c+t.message,e(t,n),i.error(t.message,a)}}r.$inject=["$provide"],i.$inject=["$delegate","exceptionHandler","logger"],angular.module("blocks.exception").provider("exceptionHandler",e).config(r)}(),function(){"use strict";function e(e){function r(r){return function(i){e.error(r,i)}}var i={catcher:r};return i}e.$inject=["logger"],angular.module("blocks.exception").factory("exception",e)}(),function(){"use strict";function e(){this.config={},this.$get=function(){return{config:this.config}}}function r(e,r,i,t,n){function c(e){e.forEach(function(e){e.config.resolve=angular.extend(e.config.resolve||{},n.config.resolveAlways),p.when(e.url,e.config)}),p.otherwise({redirectTo:"/"})}function a(){s()}function o(){for(var e in i.routes)if(i.routes.hasOwnProperty(e)){var r=i.routes[e],t=!!r.title;t&&d.push(r)}return d}function s(){r.$on("$routeChangeSuccess",function(e,i,t){u.changes++,l=!1;var c=n.config.docTitle+" "+(i.title||"");r.title=c})}var l=!1,u={errors:0,changes:0},d=[],p=n.config.$routeProvider,g={configureRoutes:c,getRoutes:o,routeCounts:u};return a(),g}angular.module("blocks.router").provider("routehelperConfig",e).factory("routehelper",r),r.$inject=["$location","$rootScope","$route","logger","routehelperConfig"]}(),angular.module("app.core").run(["$templateCache",function(e){e.put("app/layout/footer.html",'<footer class="footer clearfix"><div class="copyright left">&#169; 2017 Packlink.es</div><div class="security right"><p translate=SECURE_PAYMENT_GUARANTEED></p><div class=secure-payment><div class=left><img src=content/images/credit-card-1.png class=pay-providers></div><div class=left><img src=content/images/credit-card-2.png class=pay-providers></div><div class=left><img src=content/images/credit-card-3.png class=pay-providers></div><div class=left><img src=content/images/credit-card-1.png class=pay-providers></div><div class=left><img src=content/images/credit-card-2.png class=pay-providers></div><div class=left><img src=content/images/credit-card-3.png class=pay-providers></div><div class=left><img src=content/images/credit-card-1.png class=pay-providers></div></div></div></footer>'),e.put("app/layout/shell.html",'<div class=container-fluid><div data-ng-controller="Shell as vm"><header class=clearfix><div data-ng-include="\'app/layout/topnav.html\'"></div></header><section class=content><div data-ng-view></div></section><footer class=clearfix><div ng-include="\'app/layout/footer.html\'"></div></footer></div></div>'),e.put("app/layout/topnav.html",'<nav class="navbar navbar-inverse" role=navigation><div class="top-nav navbar-header"><a href="/" class=navbar-brand><img class=packlink-logo src=content/images/packlink.png></a></div><ul class="top-nav nav navbar-nav"><li class=package><img class=package-icon src=content/images/box.png><span>X 2</span></li><li class=package-transit><div class="transit-from left"><span>Spain</span><br><span>03340</span></div><div class="arrow left"><span class="glyphicon glyphicon-arrow-right"></span></div><div class="transit-to left"><span>United Kingdom</span><br><span>48890</span></div></li></ul><div class="right service-ordering"><button ng-click="vm.changeLanguage(\'en\')" type=button class="btn btn-link" translate=EN></button> <button ng-click="vm.changeLanguage(\'es\')" type=button class="btn btn-link" translate=ES></button></div></nav>'),e.put("app/servicepicker/servicepicker.html",'<header class=clearfix><div class=left><h3 translate=SELECT_SERVICE></h3></div><div class="right service-ordering"><span translate=ORDER_BY>:</span> <button ng-click="vm.order(\'price\')" type=button class="btn btn-link" translate=BEST_PRICE_FIRST></button> <button ng-click="vm.order(\'transit\')" type=button class="btn btn-link" translate=SHORTEST_TRANSIT_TIME_FIRST></button></div></header><section class="clearfix service-entry mainbar" data-ng-repeat="service in vm.services"><div class=row-fluid><div class="service-image col-md-2 col-lg-2"><img alt="Service provider" class=service-provider-img src="content/images/{{service.carrier | lowercase}}.png"></div><div class="pickup-schedule col-md-3 col-lg-3"><div class="calendar left"><img src=content/images/calendar.png></div><div class="schedule left"><p>{{service.from.text}}</p><p>{{service.from.time}}</p></div></div><div class="duration col-md-2 col-lg-2"><h2>{{service.transit_hours}}h</h2><h6 translate=ESTIMATED></h6></div><div class="pickup-schedule col-md-3 col-lg-3"><div class="calendar left"><img src=content/images/calendar.png></div><div class="schedule left"><p>{{service.to.text}}</p><p>{{service.to.time}}</p></div></div><div class="action-col col-md-2 col-lg-2"><span class="price glyphicon glyphicon-euro">{{service.price.total_price}}</span><span class=tax>+VAT</span><div><button type=button class="btn btn-warning" translate=SELECT_THIS></button></div></div><div class="row-fluid info-row clearfix"><div class="info-items col-md-12 col-lg-12"><div class=row-fluid><div data-ng-repeat="info in service.service_info"><div class="info-text col-md-2 col-lg-2"><img src=content/images/note.png><span>{{info.text}}</span></div></div><div class="col-md-6 col-lg-6"><a href={{service.details_url}} translate=FULL_DETAILS></a></div></div></div></div></div></section>')}]);